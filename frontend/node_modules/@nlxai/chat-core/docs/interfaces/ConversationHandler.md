# Interface: ConversationHandler

A bundle of functions to interact with a conversation, created by [createConversation](../README.md#default).

## Properties

### sendText

• **sendText**: (`text`: `string`, `context?`: [`Context`](../README.md#context)) => `void`

Send user's message

#### Type declaration

▸ (`text`, `context?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `text` | `string` | the user's message |
| `context?` | [`Context`](../README.md#context) | [Context](https://docs.studio.nlx.ai/workspacesettings/documentation-settings/settings-context-attributes) for usage later in the intent. |

##### Returns

`void`

#### Defined in

[index.ts:459](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L459)

___

### sendSlots

• **sendSlots**: (`slots`: [`SlotsRecordOrArray`](../README.md#slotsrecordorarray), `context?`: [`Context`](../README.md#context)) => `void`

Send [slots](https://docs.studio.nlx.ai/workspacesettings/introduction-to-settings) to the bot.

#### Type declaration

▸ (`slots`, `context?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `slots` | [`SlotsRecordOrArray`](../README.md#slotsrecordorarray) | The slots to populate |
| `context?` | [`Context`](../README.md#context) | [Context](https://docs.studio.nlx.ai/workspacesettings/documentation-settings/settings-context-attributes) for usage later in the intent. |

##### Returns

`void`

#### Defined in

[index.ts:465](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L465)

___

### sendChoice

• **sendChoice**: (`choiceId`: `string`, `context?`: [`Context`](../README.md#context), `metadata?`: [`ChoiceRequestMetadata`](ChoiceRequestMetadata.md)) => `void`

Respond to [a choice](https://docs.studio.nlx.ai/intentflows/documentation-flows/flows-build-mode/nodes#user-choice) from the bot.

#### Type declaration

▸ (`choiceId`, `context?`, `metadata?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `choiceId` | `string` | - |
| `context?` | [`Context`](../README.md#context) | [Context](https://docs.studio.nlx.ai/workspacesettings/documentation-settings/settings-context-attributes) for usage later in the intent. |
| `metadata?` | [`ChoiceRequestMetadata`](ChoiceRequestMetadata.md) | links the choice to the specific message and node in the conversation. |

##### Returns

`void`

#### Defined in

[index.ts:472](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L472)

___

### sendWelcomeIntent

• **sendWelcomeIntent**: (`context?`: [`Context`](../README.md#context)) => `void`

Trigger the welcome [intent](https://docs.studio.nlx.ai/intents/introduction-to-intents). This should be done when the user starts interacting with the chat.

#### Type declaration

▸ (`context?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `context?` | [`Context`](../README.md#context) | [Context](https://docs.studio.nlx.ai/workspacesettings/documentation-settings/settings-context-attributes) for usage later in the intent. |

##### Returns

`void`

#### Defined in

[index.ts:482](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L482)

___

### sendIntent

• **sendIntent**: (`intentId`: `string`, `context?`: [`Context`](../README.md#context)) => `void`

Trigger a specific [intent](https://docs.studio.nlx.ai/intents/introduction-to-intents).

#### Type declaration

▸ (`intentId`, `context?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `intentId` | `string` | the intent to trigger. The id is the name under the Bot's _Intents_. |
| `context?` | [`Context`](../README.md#context) | [Context](https://docs.studio.nlx.ai/workspacesettings/documentation-settings/settings-context-attributes) for usage later in the intent. |

##### Returns

`void`

#### Defined in

[index.ts:489](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L489)

___

### sendStructured

• **sendStructured**: (`request`: [`StructuredRequest`](StructuredRequest.md), `context?`: [`Context`](../README.md#context)) => `void`

Send a combination of choice, slots, and intent in one request.

#### Type declaration

▸ (`request`, `context?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `request` | [`StructuredRequest`](StructuredRequest.md) |  |
| `context?` | [`Context`](../README.md#context) | [Context](https://docs.studio.nlx.ai/workspacesettings/documentation-settings/settings-context-attributes) for usage later in the intent. |

##### Returns

`void`

#### Defined in

[index.ts:496](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L496)

___

### subscribe

• **subscribe**: (`subscriber`: [`Subscriber`](../README.md#subscriber)) => () => `void`

Subscribe a callback to the conversation. On subscribe, the subscriber will receive all of the Responses that the conversation has already received.

#### Type declaration

▸ (`subscriber`): () => `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `subscriber` | [`Subscriber`](../README.md#subscriber) | The callback to subscribe |

##### Returns

`fn`

▸ (): `void`

##### Returns

`void`

#### Defined in

[index.ts:501](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L501)

___

### unsubscribe

• **unsubscribe**: (`subscriber`: [`Subscriber`](../README.md#subscriber)) => `void`

Unsubscribe a callback from the conversation.

#### Type declaration

▸ (`subscriber`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `subscriber` | [`Subscriber`](../README.md#subscriber) | The callback to unsubscribe |

##### Returns

`void`

#### Defined in

[index.ts:506](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L506)

___

### unsubscribeAll

• **unsubscribeAll**: () => `void`

Unsubscribe all callback from the conversation.

#### Type declaration

▸ (): `void`

##### Returns

`void`

#### Defined in

[index.ts:510](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L510)

___

### currentConversationId

• **currentConversationId**: () => `undefined` \| `string`

Get the current conversation ID if it's set, or undefined if there is no conversation.

#### Type declaration

▸ (): `undefined` \| `string`

##### Returns

`undefined` \| `string`

#### Defined in

[index.ts:514](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L514)

___

### reset

• **reset**: (`options?`: \{ `clearResponses?`: `boolean`  }) => `void`

Forces a new conversation. If `clearResponses` is set to true, will also clear historical responses passed to subscribers.
Retains all existing subscribers.

#### Type declaration

▸ (`options?`): `void`

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `options?` | `Object` | - |
| `options.clearResponses?` | `boolean` | If set to true, will clear historical responses passed to subscribers. |

##### Returns

`void`

#### Defined in

[index.ts:519](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L519)

___

### destroy

• **destroy**: () => `void`

Removes all subscribers and, if using websockets, closes the connection.

#### Type declaration

▸ (): `void`

##### Returns

`void`

#### Defined in

[index.ts:528](https://github.com/nlxai/sdk/blob/71307264e396822939eca86ed156fc2cc45d48d3/packages/chat-core/src/index.ts#L528)
